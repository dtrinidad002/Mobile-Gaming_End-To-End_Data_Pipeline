# Understanding User Behavior For Mobile Gaming

Author: David Trinidad  
MIDS W205 Data Engineering  
Project 3  


### Part I: Summary

The intention of this project is to demonstrate a basic pipeline for collecting user metadata within the mobile-gaming space. We will step through the process where data from a Flask web server will publish into Kafka where the messages will be ingested into Spark, and finish off by saving the data into a Hadoop file system (HDFS) where basic analytical quiries can be conducted to answer business questions. 

**Introduction**

As a Data Scientist of a gaming company, we take the scenario of tracking two events; "purchasing a sword" and "joining a guild". We assume these events are generated by a web interface of some sort. Below are the following tasks that will be highlighted during the step by step implementation process in section 3. 

**Tasks**  
- 1. Instrument API server to log events to Kafka: The web server will be used to log the events where users buy a sword or join guild as json messages. 
- 2. Assemble a data pipeline to catch these events: use Spark streaming to filter select event types from Kafka, land them into HDFS/parquet to make them available for analysis using Presto.  
- 3. Use Apache Bench to generate test data for your pipeline.  
- 4. Produce an analytics report providing a description of your pipeline and some basic analysis of the events. Explaining the pipeline is key for this project!  

**Files**

- **Report.md**: This file is the writeup with step-by-step command annotations.
- **docker-compose.yml**: Contains the cluster configuration
- **mobileGame_api.py**: Python API for the Web Server.
- **separate_events.py**: Python spark scripts to separate game event messages.
- **event_filtering.py**: Python spark scripts to filter game event messages.
- **filtered_writes.py**: is the Python spark scripts to save game event messages to file after filtering.
- **JupyterQuery.ipynb**: Jupyter Notebook to save demonstrate queries from saved data.


### Part II: Data Pipeline Architecture

![](gaming_architecture.png)

### Part III: Step By Step Implementation Process 

**Details covered in Report.ipynb file**

